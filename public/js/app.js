// Generated by CoffeeScript 1.3.3
(function() {
  var Buffer, RandomInteger, addNewPoint, dataStream, generator;

  RandomInteger = (function() {

    function RandomInteger(options) {
      if (options == null) {
        options = {};
      }
      this.min = options.min || 0;
      this.max = options.max || 100;
    }

    RandomInteger.prototype.generate = function() {
      return _.random(this.min, this.max);
    };

    return RandomInteger;

  })();

  Buffer = (function() {

    function Buffer(options) {
      if (options == null) {
        options = {};
      }
      this.queue = [];
      this.maxSize = options.maxSize || 10;
    }

    Buffer.prototype.add = function(value) {
      this.queue.push(value);
      if (this.queue.length > this.maxSize) {
        return this.queue.shift();
      }
    };

    Buffer.prototype.values = function() {
      return this.queue;
    };

    return Buffer;

  })();

  generator = new RandomInteger({
    min: 5,
    max: 8
  });

  dataStream = new Buffer({
    maxSize: 5
  });

  addNewPoint = function() {
    dataStream.add(generator.generate());
    return console.log(dataStream.values());
  };

  setInterval(function() {
    return addNewPoint();
  }, 1000);

}).call(this);
